---
title: "analyse_portefeuille_investissement"
author: "H. Joo"
date: "2025-02-28"
output: html_document
---
## üìå Introduction

Dans un monde o√π les march√©s financiers √©voluent constamment, **prendre des d√©cisions d‚Äôinvestissement √©clair√©es** est essentiel pour optimiser un portefeuille.  

Ce projet vise √† **analyser la performance de diff√©rentes actions** (Apple, Microsoft, Tesla) afin de recommander une **allocation optimale du capital**.  

___

```{r setup, include=FALSE}
library(knitr)
library(rmarkdown)

knitr::opts_knit$set(root.dir = "C:/Users/teo11/PROJETS/analyse_portefeuille_investissement")

```

```{r load_data, echo=TRUE}
# Charger les biblioth√®ques
library(tidyverse)

# Charger les donn√©es
data <- read.csv("data/bourse.csv")

# Convertir la colonne Date en format Date
data$Date <- as.Date(data$Date)

# Afficher les premi√®res lignes
head(data)
```
```{r clean_data, echo=TRUE}
# V√©rifier les valeurs manquantes
sum(is.na(data))

# Trier les donn√©es par Date et Ticker
data <- data %>% arrange(Date, Ticker)

# Calculer les rendements quotidiens
data <- data %>%
  group_by(Ticker) %>%
  mutate(Rendement = (Prix - lag(Prix)) / lag(Prix)) %>%
  drop_na()

# Afficher un aper√ßu des donn√©es transform√©es
head(data)
```

```{r price_plot, echo=FALSE}
# Charger ggplot2
library(ggplot2)

# Graphique de l‚Äô√©volution des prix
ggplot(data, aes(x=Date, y=Prix, color=Ticker)) +
  geom_line() +
  labs(title="√âvolution du prix des actions", x="Date", y="Prix") +
  theme_minimal()
```

```{r rendement_plot, echo=FALSE}
ggplot(data, aes(x=Date, y=Rendement, color=Ticker)) +
  geom_line() +
  labs(title="Rendements quotidiens des actions", x="Date", y="Rendement") +
  theme_minimal()
```

## Interpr√©tation du r√©sultat
Plus les variations sont grandes, plus l‚Äôaction est volatile

___

```{r summary_table, echo=FALSE}
# Calcul du Ratio de Sharpe
taux_sans_risque <- 0.005
sharpe_ratio <- data %>%
  group_by(Ticker) %>%
  summarise(
    Mean_Rendement = mean(Rendement, na.rm=TRUE),
    Sharpe = (Mean_Rendement - taux_sans_risque) / sd(Rendement, na.rm=TRUE)
  )

# Allocation du portefeuille
allocation <- sharpe_ratio %>%
  mutate(Allocation = Sharpe / sum(Sharpe) * 100)

library(kableExtra)

# Afficher le tableau format√© avec un meilleur design
knitr::kable(allocation, caption="Allocation Optimale du Portefeuille") %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed"))
```
```{r pie_chart, echo=FALSE}
# Charger ggplot2
library(ggplot2)

# Ajouter une colonne pour afficher les pourcentages format√©s
allocation$label <- paste0(round(allocation$Allocation, 1), "%")

# Cr√©er un camembert avec les pourcentages affich√©s
ggplot(allocation, aes(x="", y=Allocation, fill=Ticker)) +
  geom_bar(stat="identity", width=1) +
  coord_polar("y", start=0) +
  geom_text(aes(label=label), position=position_stack(vjust=0.5), color="white", size=5) +
  labs(title="R√©partition Optimale du Portefeuille") +
  theme_void()
```

## üìä Interpr√©tation des r√©sultats

 **Ratio de Sharpe**  
- **Apple (AAPL) : 3.30** ‚Üí  Meilleur rendement ajust√© au risque  
- **Microsoft (MSFT) : 2.20** ‚Üí Correct mais plus volatil  
- **Tesla (TSLA) : 1.02** ‚Üí  Risque √©lev√© avec faible rendement  

 **Allocation recommand√©e du portefeuille**  
- **Apple : 50.6%** 
- **Microsoft : 33.7%** ‚öñ  
- **Tesla : 15.6%** ‚ö†  

 **Recommandation** :  
Il est pr√©f√©rable d‚Äôinvestir **davantage sur Apple**, car c'est l‚Äôaction **la plus rentable et stable**. 

**Tesla doit √™tre limit√©** car il est trop risqu√©. 

___

## Conclusion et prochaines √©tapes

### R√©sum√© des points cl√©s

**Apple** est l‚Äôaction la plus rentable et √©quilibr√©e

**Microsoft** est une alternative viable mais plus volatile

**Tesla** doit √™tre limit√© dans le portefeuille

## Prochaines √©tapes

**Comparer avec d‚Äôautres indices boursiers** (S&P 500, Nasdaq)

**Tester d‚Äôautres classes d‚Äôactifs** (crypto, obligations)

